import{w,r as M}from"./entry.BoJ3OVn3.js";import{O as S}from"./scheduler.BTPGlIUF.js";function b(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}const i={};function h(e){return e==="local"?localStorage:sessionStorage}function m(e,s,t){const o=JSON,u="local";function f(c,a){h(u).setItem(c,o.stringify(a))}if(!i[e]){const c=w(s,n=>{const r=h(u).getItem(e);r&&n(o.parse(r));{const g=d=>{d.key===e&&n(d.newValue?o.parse(d.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:a,set:l}=c;i[e]={set(n){f(e,n),l(n)},update(n){const r=n(S(c));f(e,r),l(r)},subscribe:a}}return i[e]}const L=m("modeOsPrefers",!1),P=m("modeUserPrefers",void 0),E=m("modeCurrent",!1);function O(){const e=window.matchMedia("(prefers-color-scheme: light)").matches;return L.set(e),e}function I(e){P.set(e)}function R(e){const s=document.documentElement.classList,t="dark";e===!0?s.remove(t):s.add(t),E.set(e)}function x(){const e=document.documentElement.classList,s=localStorage.getItem("modeUserPrefers")==="false",t=!("modeUserPrefers"in localStorage),o=window.matchMedia("(prefers-color-scheme: dark)").matches;s||t&&o?e.add("dark"):e.remove("dark")}const p="(prefers-reduced-motion: reduce)";function U(){return window.matchMedia(p).matches}const H=M(U(),e=>{{const s=o=>{e(o.matches)},t=window.matchMedia(p);return t.addEventListener("change",s),()=>{t.removeEventListener("change",s)}}});export{R as a,I as b,b as e,O as g,E as m,H as p,x as s};
