{"type":"data","nodes":[null,null,null,{"type":"data","data":[{"content":1,"categoryTitle":2},"\u003Ch1>Overview\u003C/h1>\n\u003Cp>\u003Cstrong>mark-static\u003C/strong> is a dynamic content-driven web application built using SvelteKit. This project dynamically generates routes, menus, categories, and subcategories from the folder structure and its content within the static directory. The folder structure follows this pattern: \u003Ccode>section/category/subcategory/content.md\u003C/code>. Multiple sections, categories, and subcategories are supported, with routes dynamically built based on this structure. Content and images are also dynamically handled.\u003C/p>\n\u003Ch2>Features\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Cstrong>Dynamic Routing\u003C/strong>: Routes are generated dynamically from the folder structure within the static directory.\u003C/li>\n\u003Cli>\u003Cstrong>Dynamic Menu and Categories\u003C/strong>: Menu data and categories are generated from the folder structure at build time.\u003C/li>\n\u003Cli>\u003Cstrong>Markdown Parsing\u003C/strong>: Content in markdown files is parsed into HTML.\u003C/li>\n\u003Cli>\u003Cstrong>Static Site Generation\u003C/strong>: The application uses the \u003Ccode>@sveltejs/adapter-static\u003C/code> to rebuild server-side components and logic to static files, making it suitable for hosting on static web hosting platforms.\u003C/li>\n\u003Cli>\u003Cstrong>Real-time Content Update\u003C/strong>: Custom Vite plugin (\u003Ccode>vite-plugin-generate-data.js\u003C/code>) watches for changes in the content folder and regenerates JSON files to reflect the latest data.\u003C/li>\n\u003C/ul>\n\u003Ch2>Folder Structure\u003C/h2>\n\u003Cp>The folder structure within the static directory that is used to generate content pages is as follows:\u003C/p>\n\u003Cpre>\u003Ccode>static/\n&#x2514;&#x2500;&#x2500; content/\n    &#x251c;&#x2500;&#x2500; section/\n    &#x2502;   &#x251c;&#x2500;&#x2500; category/\n    &#x2502;   &#x2502;   &#x251c;&#x2500;&#x2500; subcategory/\n    &#x2502;   &#x2502;   &#x2502;   &#x251c;&#x2500;&#x2500; content.md\n    &#x2502;   &#x2502;   &#x2502;   &#x2514;&#x2500;&#x2500; image.jpg\n    &#x2502;   &#x2502;   &#x2514;&#x2500;&#x2500; subcategory/\n    &#x2502;   &#x2502;       &#x2514;&#x2500;&#x2500; content.md\n    &#x2502;   &#x2514;&#x2500;&#x2500; category/\n    &#x2502;       &#x2514;&#x2500;&#x2500; subcategory/\n    &#x2502;           &#x2514;&#x2500;&#x2500; content.md\n    &#x2514;&#x2500;&#x2500; section/\n        &#x251c;&#x2500;&#x2500; category/\n        &#x2502;   &#x2514;&#x2500;&#x2500; subcategory/\n        &#x2502;       &#x2514;&#x2500;&#x2500; content.md\n        &#x2514;&#x2500;&#x2500; category/\n            &#x2514;&#x2500;&#x2500; subcategory/\n                &#x2514;&#x2500;&#x2500; content.md\n\u003C/code>\u003C/pre>\u003Ch2>Scripts\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Cstrong>Generate Menu\u003C/strong>: Generates the menu JSON data from the folder structure.\u003C/li>\n\u003Cli>\u003Cstrong>Generate Search Index\u003C/strong>: Builds the search index JSON data from the generated menu JSON.\u003C/li>\n\u003Cli>\u003Cstrong>Vite Plugin\u003C/strong>: Custom Vite plugin integrates these scripts into the build and dev environment.\u003C/li>\n\u003C/ul>\n\u003Ch2>Installation\u003C/h2>\n\u003Col>\n\u003Cli>\u003Cp>\u003Cstrong>Clone the repository\u003C/strong>:\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">git \u003Cspan class=\"hljs-built_in\">clone\u003C/span> https://github.com/yourusername/tango-procedures.git\n\u003Cspan class=\"hljs-built_in\">cd\u003C/span> tango-procedures\n\u003C/code>\u003C/pre>\u003C/li>\n\u003Cli>\u003Cp>\u003Cstrong>Install dependencies\u003C/strong>:\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">npm install\n\u003C/code>\u003C/pre>\u003C/li>\n\u003Cli>\u003Cp>\u003Cstrong>Run the development server\u003C/strong>:\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">npm run dev\n\u003C/code>\u003C/pre>\u003C/li>\n\u003Cli>\u003Cp>\u003Cstrong>Build for production\u003C/strong>:\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">npm run build\n\u003C/code>\u003C/pre>\u003C/li>\n\u003Cli>\u003Cp>\u003Cstrong>Preview the production build\u003C/strong>:\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">npm run preview\n\u003C/code>\u003C/pre>\u003C/li>\n\u003C/ol>\n\u003Ch2>Development\u003C/h2>\n\u003Cp>The development workflow includes:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cp>\u003Cstrong>Linting and Formatting\u003C/strong>:\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">npm run lint\nnpm run format\n\u003C/code>\u003C/pre>\u003C/li>\n\u003Cli>\u003Cp>\u003Cstrong>Custom Vite Plugin\u003C/strong>:\nThe \u003Ccode>vite-plugin-generate-data.js\u003C/code> plugin handles content updates and script execution during build and development:\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-js\">\u003Cspan class=\"hljs-keyword\">import\u003C/span> { execSync } \u003Cspan class=\"hljs-keyword\">from\u003C/span> \u003Cspan class=\"hljs-string\">&apos;child_process&apos;\u003C/span>;\n\u003Cspan class=\"hljs-keyword\">import\u003C/span> { fileURLToPath } \u003Cspan class=\"hljs-keyword\">from\u003C/span> \u003Cspan class=\"hljs-string\">&apos;url&apos;\u003C/span>;\n\u003Cspan class=\"hljs-keyword\">import\u003C/span> path \u003Cspan class=\"hljs-keyword\">from\u003C/span> \u003Cspan class=\"hljs-string\">&apos;path&apos;\u003C/span>;\n\n\u003Cspan class=\"hljs-keyword\">const\u003C/span> dirname = path.\u003Cspan class=\"hljs-title function_\">dirname\u003C/span>(\u003Cspan class=\"hljs-title function_\">fileURLToPath\u003C/span>(\u003Cspan class=\"hljs-keyword\">import\u003C/span>.\u003Cspan class=\"hljs-property\">meta\u003C/span>.\u003Cspan class=\"hljs-property\">url\u003C/span>));\n\u003Cspan class=\"hljs-keyword\">const\u003C/span> contentDir = \u003Cspan class=\"hljs-string\">&apos;static/content&apos;\u003C/span>;\n\u003Cspan class=\"hljs-keyword\">const\u003C/span> contentPath = path.\u003Cspan class=\"hljs-title function_\">resolve\u003C/span>(dirname, contentDir);\n\n\u003Cspan class=\"hljs-keyword\">function\u003C/span> \u003Cspan class=\"hljs-title function_\">runScriptsWithNode\u003C/span>(\u003Cspan class=\"hljs-params\">\u003C/span>) {\n    \u003Cspan class=\"hljs-keyword\">const\u003C/span> generateMenuPath = path.\u003Cspan class=\"hljs-title function_\">resolve\u003C/span>(dirname, \u003Cspan class=\"hljs-string\">&apos;scripts/generate-menu.cjs&apos;\u003C/span>);\n    \u003Cspan class=\"hljs-keyword\">const\u003C/span> generateSearchIndexPath = path.\u003Cspan class=\"hljs-title function_\">resolve\u003C/span>(dirname, \u003Cspan class=\"hljs-string\">&apos;scripts/generate-search-index.cjs&apos;\u003C/span>);\n    \u003Cspan class=\"hljs-title function_\">execSync\u003C/span>(\u003Cspan class=\"hljs-string\">`node \u003Cspan class=\"hljs-subst\">&#x24;{generateMenuPath}\u003C/span>`\u003C/span>, { \u003Cspan class=\"hljs-attr\">stdio\u003C/span>: \u003Cspan class=\"hljs-string\">&apos;inherit&apos;\u003C/span> });\n    \u003Cspan class=\"hljs-title function_\">execSync\u003C/span>(\u003Cspan class=\"hljs-string\">`node \u003Cspan class=\"hljs-subst\">&#x24;{generateSearchIndexPath}\u003C/span>`\u003C/span>, { \u003Cspan class=\"hljs-attr\">stdio\u003C/span>: \u003Cspan class=\"hljs-string\">&apos;inherit&apos;\u003C/span> });\n}\n\n\u003Cspan class=\"hljs-keyword\">function\u003C/span> \u003Cspan class=\"hljs-title function_\">handleChanges\u003C/span>(\u003Cspan class=\"hljs-params\">filePath\u003C/span>) {\n    \u003Cspan class=\"hljs-keyword\">if\u003C/span> (filePath.\u003Cspan class=\"hljs-title function_\">startsWith\u003C/span>(contentPath)) {\n        \u003Cspan class=\"hljs-title function_\">runScriptsWithNode\u003C/span>();\n    }\n}\n\n\u003Cspan class=\"hljs-keyword\">export\u003C/span> \u003Cspan class=\"hljs-keyword\">default\u003C/span> \u003Cspan class=\"hljs-keyword\">function\u003C/span> \u003Cspan class=\"hljs-title function_\">generateDataPlugin\u003C/span>(\u003Cspan class=\"hljs-params\">\u003C/span>) {\n    \u003Cspan class=\"hljs-keyword\">return\u003C/span> {\n        \u003Cspan class=\"hljs-attr\">name\u003C/span>: \u003Cspan class=\"hljs-string\">&apos;vite-plugin-generate-data&apos;\u003C/span>,\n        \u003Cspan class=\"hljs-title function_\">buildStart\u003C/span>(\u003Cspan class=\"hljs-params\">\u003C/span>) {\n            \u003Cspan class=\"hljs-title function_\">runScriptsWithNode\u003C/span>();\n        },\n        \u003Cspan class=\"hljs-title function_\">configureServer\u003C/span>(\u003Cspan class=\"hljs-params\">server\u003C/span>) {\n            server.\u003Cspan class=\"hljs-property\">watcher\u003C/span>.\u003Cspan class=\"hljs-title function_\">add\u003C/span>(contentPath);\n            server.\u003Cspan class=\"hljs-property\">watcher\u003C/span>.\u003Cspan class=\"hljs-title function_\">on\u003C/span>(\u003Cspan class=\"hljs-string\">&apos;add&apos;\u003C/span>, handleChanges);\n            server.\u003Cspan class=\"hljs-property\">watcher\u003C/span>.\u003Cspan class=\"hljs-title function_\">on\u003C/span>(\u003Cspan class=\"hljs-string\">&apos;unlink&apos;\u003C/span>, handleChanges);\n            server.\u003Cspan class=\"hljs-property\">watcher\u003C/span>.\u003Cspan class=\"hljs-title function_\">on\u003C/span>(\u003Cspan class=\"hljs-string\">&apos;change&apos;\u003C/span>, handleChanges);\n        }\n    };\n}\n\u003C/code>\u003C/pre>\u003C/li>\n\u003C/ul>\n\u003Ch2>Dependencies\u003C/h2>\n\u003Cp>Key dependencies and devDependencies used in the project:\u003C/p>\n\u003Cul>\n\u003Cli>\u003Cstrong>SvelteKit\u003C/strong>: Core framework for building the application.\u003C/li>\n\u003Cli>\u003Cstrong>TailwindCSS\u003C/strong>: Utility-first CSS framework for styling.\u003C/li>\n\u003Cli>\u003Cstrong>Marked\u003C/strong>: Markdown parser.\u003C/li>\n\u003Cli>\u003Cstrong>Vite\u003C/strong>: Build tool and development server.\u003C/li>\n\u003Cli>\u003Cstrong>HtmlParser2\u003C/strong>: Library to modify parsed HTML elements and their attributes.\u003C/li>\n\u003C/ul>\n\u003Cp>For the full list of dependencies, refer to \u003Ccode>package.json\u003C/code> file.\u003C/p>\n","About-Project"],"uses":{"params":["section","category","subcategory"]}}]}
